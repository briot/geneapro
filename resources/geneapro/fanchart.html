{% extends "geneapro/base.html" %}
{% block title %}GeneaPro: fanchart {{decujus}}{% endblock %}
{% block css %}
.pedigree td.indiv {background:url({{MEDIA_URL}}horiz.png) left center no-repeat}
#fanchart {width:100%;height:600px;margin:10px 0 10px 0;border:0}
#stats {margin:0; padding:0}
#stats li {margin-bottom:20px; list-style-type:none}
{% endblock css %}

{% block script %}
$(document).ready(function() {
   var data={{pedigree_data|safe}};
   var g = new FanchartCanvas($("#fanchart")[0], data);
   g.onResize();
});
{% endblock script %}

{% block endbody %}
<script type="text/javascript" src="{{MEDIA_URL}}jquery.detectFontSize.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}mouse_events.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}canvas.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}fanchart.js"></script>
{% endblock endbody %}

{% block leftside %}
<h2>Fanchart View</h2>
<div id="settings">
Generations:&nbsp;<select name="gens">
   {% for g in genrange %}
      {% if g == generations %}
      <option selected>{{g}}</option>
      {% else %}
      <option>{{g}}</option>
      {% endif %}
   {% endfor %}
</select>
<br>
Marriages&nbsp;<input type="checkbox" name="marriages"/>
<br>
Colors:&nbsp;<select name="colors">
   <option value="0">Rules</option>
   <option value="1">Pedigree</option>
</select>
<br>
Appearance&nbsp;<select name="appearance">
   <option value="0">Flat</option>
   <option value="1">Gradient</option>
</select>
<br>
Size&nbsp;<select name="size">
   <option value="90">90</option>
   <option value="120">120</option>
   <option value="180">180</option>
   <option value="210">210</option>
   <option value="270">270</option>
   <option value="340">340</option>
   <option value="360">360</option>
</select>
</div>

{{legend|safe}}
{% endblock leftside %}

{% block contents %}
<canvas class="graph" id="fanchart"></canvas>
{% endblock contents %}
