{% extends "geneapro/base.html" %}
{% block title %}GeneaPro: Quilts {{decujus}} {% endblock %}

{% block css %}
{% endblock css %}

{% block script %}
var canvas;
$(document).ready(function() {
  var data_ = {{persons|safe}};
  var families_ = {{families|safe}};
  canvas = new QuiltsCanvas($("#quilts")[0], data_, families_);
  canvas.onResize();
});
{% endblock script %}

{% block endbody %}
<script type="text/javascript" src="{{MEDIA_URL}}mouse_events.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}canvas.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}rtree.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}quilts.js"></script>
{% endblock endbody %}

{% block leftside %}
<h2 class="settings">Settings</h2>
<div id="settings">
   <div class="config"><span>Collapsed</span>
      <input type="checkbox" title="Show selected persons only"
      onchange="canvas.filterSelected(this.checked)"/>
   </div>
   <div class="config"><span>Whole database</span>
      <input type="checkbox" name="wholeDatabase"
         {% if not decujus_tree %}
            checked
         {% endif %}
      >
   </div>
</div>

{% endblock leftside %}

{% block contents %}
<canvas id="quilts" style="width:100%;height:100%"></canvas>
{% endblock contents %}
