{% extends "geneapro/base.html" %}
{% block title %}GeneaPro: pedigree{% endblock %}
{% block css %}
.pedigree td.indiv {background:url({{MEDIA_URL}}horiz.png) left center no-repeat}

#containers tr > td:first-child {
   text-transform:capitalize;
   font-weight:bold;
   color:#AAA;
}
   
{% endblock css %}

{% block header %}
<link rel="stylesheet" href="{{MEDIA_URL}}datatables.css"/>
{% endblock header %}

{% block script %}
$(document).ready(function() {
$("#list").dataTable(
  {"bPaginate": false,
   "sDom": '<"top"fi>rt',
   "aaSorting": [[ 3, "asc" ]], // on dates
  }
);
});

{% endblock script %}

{% block endbody %}
{% endblock endbody %}

{% block leftside %}
{% endblock leftside %}

{% block contents %}

<div id="containers">
 <table id="list">
   <thead>
      <tr>
         <th>Type</th>
         <th>Name</th>
         <th>Role</th>
         <th>Date</th>
         <th>Place</th>
         <th>Sources</th>
      </tr>
   </thead>
   <tbody>

   {% for k, c in chars.items %}
   <tr>
      <td>Char.</td>
      <td>

      {% for pname, pval in c.parts %}
      <i>{{pname}}</i> = {{pval}}<br>
      {% endfor %}
      </td>

      <td></td>
      <td>{{c.Date|default:"-"}}</td>
      <td>{{c.place|default:"-"}}</td>
      <td>{{c.sources|length}}</td>
   </tr>
   {% endfor %}

   {% for i, e in events.items %}
      <tr>
         <td>{{e.0.type.name}}</td>
         <td>{{e.0.name}}</td>
         <td>{{e.1}}</td>
         <td>{{e.0.Date|default:"-"}}</td>
         <td>{{e.0.place|default:"-"}}</td>
         <td>{{e.0.sources|length}}</td>
      </tr>
   {% endfor %}
   </tbody>
 </table>
</div>
{% endblock contents %}

